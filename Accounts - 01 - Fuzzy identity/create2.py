from web3 import Web3

deployingAddr = "7b2Abaa561fEF9744ECac9ebC46604181AAcF1ED"
addrbytes = bytes.fromhex(deployingAddr)
bytecode = "608060405234801561001057600080fd5b5061015d806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c806306fdde031461003b5780635a10731414610059575b600080fd5b61004361009d565b6040518082815260200191505060405180910390f35b61009b6004803603602081101561006f57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506100c5565b005b60007f736d617278000000000000000000000000000000000000000000000000000000905090565b8073ffffffffffffffffffffffffffffffffffffffff1663380c7a676040518163ffffffff1660e01b8152600401600060405180830381600087803b15801561010d57600080fd5b505af1158015610121573d6000803e3d6000fd5b505050505056fea265627a7a723158208e3bb0c7cd5d47e39c4f31ace0558d1055e05877590a55e79656f66ce483a1c264736f6c63430005110032"
hashbytecode = Web3.keccak(hexstr=bytecode)
salt = 1

header = bytes.fromhex("ff") + addrbytes

while 1:
    salthex = Web3.toHex(salt)[2:]
    saltbytes = '0' * (64 - len(salthex)) + salthex

    predicted = Web3.toHex(Web3.keccak( header + bytes.fromhex(saltbytes) + hashbytecode))[-40:]

    if "badc0de" in predicted:
        print("0x" + predicted)
        print(saltbytes)
        exit()
    else:
        salt = salt+1